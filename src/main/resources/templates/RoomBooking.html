<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Room Booking Form </title>

    <!-- Icons font CSS-->
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/mainr.css" rel="stylesheet" media="all">
</head>

<body>
    <div class="page-wrapper bg-gra-00 p-t-45 p-b-50">
    	
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Room Booking</h2>
                </div>
                <div class="card-body">
                    <form th:action="@{/roombooking}" th:object="${roombooking}" method="post">
						<div class="form-row">
                            <div for="roomcode" class="name"> Room Code </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{roomcode}" class="input--style-5" type="text" name="roomcode" placeholder="Example: Delux 702">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div for="name" class="name"> Name </div>
                            <div class="value">
								<div class="input-group">
									<input class="input--style-5" type="text"  name="name"
										th:field="*{name}" placeholder="Example: Mr. Jhon">
								</div>
							</div>
                        </div>
                        <div class="form-row">
                            <div for="email" class="name"> Email </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{email}" class="input--style-5" type="text" name="email" placeholder="Example: abc_2020@gmail.com">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="phone" class="name">Phone</div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{phone}" class="input--style-5" type="text" name="phone" placeholder="Example: +88 45456364421">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="state" class="name"> State </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{state}" class="input--style-5" type="text" name="state" placeholder="Example: Wales">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div for="zipcode" class="name">Zip Code</div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{zipcode}" class="input--style-5" type="text" name="zipcode" placeholder="Example: 1205">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="address" class="name"> Address </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{address}" class="input--style-5" type="text" name="address" placeholder="Example: House No:3/2, Dhanmondi15, Dhaka-1205">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="roomcost" class="name"> Room Cost </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{roomcost}" class="input--style-5" type="text" name="roomcost" id="roomcost" placeholder="Example: 15000">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="guestnumber" class="name"> Guest Number </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{guestnumber}" class="input--style-5" type="text" name="guestnumber" placeholder="Example: quantity">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="signin" class="name"> Sign-In Date </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{signin}" class="input--style-5" type="date" name="signin" id="signin" placeholder="Example: 12/20/2020">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="signout" class="name"> Sign-Out Date </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{signout}" class="input--style-5" type="date" name="signout" id="signout" placeholder="Example: 12/22/2020">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="discount" class="name"> Discount </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{discount}" class="input--style-5" type="text" name="discount" id ="discount" placeholder="Example: 10%">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="totalprice" class="name"> Total Price </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{totalprice}" class="input--style-5" type="text" name="totalprice" id ="totalprice" placeholder="Example: 15000" onclick="m1();">
                                </div>
                            </div>
                        </div>
						<div class="form-row">
                            <div for="paymentstatus" class="name"> Payment Status </div>
                            <div class="value">
                                <div class="input-group">
                                    <input th:field="*{paymentstatus}" class="input--style-5" type="text" name="paymentstatus" placeholder="Example: Paid">
                                </div>
                            </div>
                        </div>
                       
                        
                        <div>
                            <button class="btn btn--radius-2 btn--red buttonsize" type="submit">Confirm Booking</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="js/global.js"></script>
      <script>
         function m1(){
        	 var tf1=document.getElementById("signin").value;
        	 var tf2=document.getElementById("signout").value;
			 
          	 var d1=Number.parseInt(tf1.substring(8), 10);
           	 var m1=Number.parseInt(tf1.substring(5,7), 10);  
           	 var y1= Number.parseInt(tf1.substring(0,4), 10);  
        	 
          	 var d2=Number.parseInt(tf2.substring(8), 10);
           	 var m2=Number.parseInt(tf2.substring(5,7), 10);  
           	 var y2= Number.parseInt(tf2.substring(0,4), 10);  
        	   
          	 var firstDate = new Date(y1, m1, d1);
          	 var secondDate = new Date(y2, m2, d2);
        	  
			 var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
        	  

        	 var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));
        	  
        	 console.log(diffDays);
        	 
			 
			 var roomcost  = Number(document.getElementById("roomcost").value);
			 var discount = Number(document.getElementById("discount").value);
			 var roomprice  =  roomcost*diffDays;
			 
			 var totalpricejkl = (roomprice*discount)/100;
			 
		
			 document.getElementById("totalprice").value= roomprice-totalpricejkl;
			
     
        	 
         }
      </script>

</body>

</html>
<!-- end document-->